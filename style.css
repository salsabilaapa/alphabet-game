:root {
    --primary: #FF6B6B; --secondary: #4ECDC4; --accent: #FFE66D; 
    --dark: #292f36; --light: #f7fff7; --bg-pattern: #dff9fb;
    --purple: #a55eea; --blue: #54a0ff; --orange: #e67e22;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    font-family: 'Comic Neue', cursive;
    background-color: var(--bg-pattern);
    background-image: radial-gradient(#7ed6df 15%, transparent 16%), radial-gradient(#7ed6df 15%, transparent 16%);
    background-size: 30px 30px;
    margin: 0; display: flex; justify-content: center; align-items: center;
    min-height: 100vh; overflow: hidden; user-select: none;
}

#game-window {
    width: 95%; max-width: 1000px; height: 95vh;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 25px; position: relative; overflow: hidden;
    display: flex; flex-direction: column;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    border: 8px solid var(--secondary);
}

/* HEADER */
.header {
    padding: 10px 20px; display: flex; justify-content: space-between; align-items: center;
    background: #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.05); z-index: 20;
    flex-shrink: 0; height: 70px;
}
.header-title { font-family: 'Fredoka One'; color: var(--dark); font-size: 1.5rem; }
.btn-icon {
    background: var(--primary); border: none; font-size: 1.5rem; 
    width: 45px; height: 45px; border-radius: 50%; cursor: pointer; color: white;
    box-shadow: 0 4px 0 #d63031; transition: 0.2s; display: flex; justify-content: center; align-items: center;
}
.btn-icon:active { transform: translateY(4px); box-shadow: none; }

/* SCREEN SETTINGS */
.screen {
    flex: 1; display: none; flex-direction: column; 
    align-items: center; justify-content: flex-start; 
    overflow-y: auto; 
    padding-top: 30px; padding-bottom: 100px; 
    padding-left: 20px; padding-right: 20px;
    position: relative;
    scrollbar-width: thin; scrollbar-color: var(--secondary) #eee;
}
.screen::-webkit-scrollbar { width: 8px; }
.screen::-webkit-scrollbar-thumb { background: var(--secondary); border-radius: 10px; }
.active { display: flex; animation: fadeIn 0.4s ease-out; }

/* MENU UTAMA */
.hero-section { text-align: center; margin-bottom: 25px; flex-shrink: 0; }
.hero-emoji { font-size: 4rem; animation: wobble 3s infinite; display: inline-block; }
.hero-title { font-family: 'Fredoka One'; font-size: 3.5rem; color: var(--primary); margin: 0; text-shadow: 3px 3px 0 var(--accent); line-height: 1.2; }
.hero-subtitle { color: #666; margin-top: 5px; font-weight: bold; }

.menu-grid { 
    display: grid; grid-template-columns: repeat(3, 1fr); 
    gap: 20px; width: 100%; max-width: 800px; margin: 0 auto;
}
.menu-card {
    background: white; border: 4px solid var(--secondary); border-radius: 20px;
    padding: 10px; display: flex; flex-direction: column; align-items: center; justify-content: center;
    cursor: pointer; box-shadow: 0 6px 0 #2a9d8f; transition: 0.2s; text-align: center;
    height: 160px;
}
.menu-card:hover { transform: translateY(-5px); }
.menu-card:active { transform: translateY(5px); box-shadow: none; }
.menu-icon { font-size: 4rem; margin-bottom: 5px; } 
.menu-text h3 { margin: 0; font-family: 'Fredoka One'; color: var(--dark); font-size: 1.2rem; }
.menu-text small { color: #666; font-size: 0.9rem; }

/* --- TOMBOL SAWERIA (BARU) --- */
.btn-support {
    display: inline-block;
    background-color: #f1c40f; /* Warna Kuning Emas */
    color: #2c3e50;
    text-decoration: none;
    font-family: 'Fredoka One', cursive;
    font-size: 1.2rem;
    padding: 12px 25px;
    border-radius: 50px;
    border: 3px solid #f39c12;
    box-shadow: 0 5px 0 #d35400;
    transition: all 0.2s;
}
.btn-support:hover {
    transform: translateY(-2px);
    background-color: #f39c12;
    color: white;
}
.btn-support:active {
    transform: translateY(3px);
    box-shadow: none;
}

h2 { margin-top: 0; margin-bottom: 20px; text-align: center; font-family: 'Fredoka One'; color: var(--primary); font-size: 2.5rem; }

/* GAME 1: BELAJAR */
.learn-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); gap: 15px; width: 100%; max-width: 700px; }
.letter-tile {
    aspect-ratio: 1; background: white; border-radius: 20px;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    box-shadow: 0 6px 0 #eee; border: 2px solid #eee; cursor: pointer; transition: 0.2s;
    font-size: 3.5rem;
}
.tile-char { font-family: 'Fredoka One'; font-size: 2rem; color: var(--primary); margin-top: -5px; }
.letter-tile:hover { transform: scale(1.05); border-color: var(--accent); background: #fffdf0; }

/* POPUP BELAJAR */
#focus-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.98); z-index: 50; display: none; flex-direction: column; justify-content: center; align-items: center; animation: popIn 0.3s; }
.close-focus { position: absolute; top: 20px; right: 20px; background: #ff4757; }
#focus-icon { font-size: 10rem; cursor: pointer; animation: float 3s infinite; }
#focus-letter { font-family: 'Fredoka One'; font-size: 6rem; color: var(--primary); margin: 0; line-height: 1; }
.focus-text-box { text-align: center; margin-top: 10px; }
.text-en { font-size: 3rem; color: var(--dark); font-weight: bold; }
.text-id { font-size: 2rem; color: #666; font-style: italic; }
.tap-hint { margin-top:20px; color:#888; }

/* GAME 2: KUIS */
.quiz-container { display: flex; flex-direction: row; width: 100%; gap: 30px; align-items: center; justify-content: center; max-width: 850px; }
.quiz-left { flex: 1; display: flex; flex-direction: column; align-items: center; margin-bottom: 20px; }
.quiz-instruction { margin: 0 0 15px 0; text-align: center; color: var(--dark); font-size: 1.3rem; }
.hungry-box { width: 170px; height: 170px; background: var(--primary); border-radius: 40px; border: 8px solid #d63031; display: flex; justify-content: center; align-items: center; position: relative; transition: 0.2s; box-shadow: 0 10px 0 rgba(0,0,0,0.1); margin-bottom: 25px; }
.box-mouth { width: 85px; height: 40px; background: #333; border-radius: 0 0 50px 50px; position: absolute; bottom: 35px; transition: 0.2s; }
.box-label { font-family: 'Fredoka One'; font-size: 5.5rem; color: white; margin-bottom: 15px; z-index: 2; }
.eating { transform: scale(1.1); } .eating .box-mouth { height: 15px; bottom: 45px; width: 90px; }
.shaking { animation: shake 0.5s; background: #ff4757; }
.sentence-bubble { background: #fff3cd; color: #856404; border: 2px solid #ffeeba; padding: 15px; border-radius: 15px; margin-top: 10px; font-weight: bold; text-align: center; width: 100%; animation: fadeIn 0.5s; box-shadow: 0 4px 0 rgba(0,0,0,0.05); }
.quiz-right { flex: 1.5; width: 100%; }
.items-rack { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; background: #eee; padding: 25px; border-radius: 30px; }
.food-item { background: white; height: 110px; border-radius: 20px; font-size: 5rem; display: flex; justify-content: center; align-items: center; cursor: pointer; box-shadow: 0 6px 0 #ccc; transition: 0.3s; }
.wrong-answer { background: #fab1a0 !important; transform: scale(0.9); opacity: 0.7; }
.correct-eat { transform: scale(0); opacity: 0; }
.progress-bar { width: 100%; max-width: 500px; height: 15px; background: #eee; border-radius: 10px; margin-bottom: 25px; overflow: hidden; }
.progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent), var(--secondary)); width: 0%; transition: 0.5s; }

/* GAME 3: MEMORY */
.memory-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; width: 100%; max-width: 600px; }
.mem-card { background-color: transparent; height: 110px; perspective: 1000px; cursor: pointer; }
.mem-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.6s; transform-style: preserve-3d; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border-radius: 15px; }
.mem-card.flip .mem-inner { transform: rotateY(180deg); }
.mem-card.matched .mem-inner { transform: rotateY(180deg); }
.mem-card.matched .mem-front { background-color: #badc58; border-color: #6ab04c; }
.mem-front, .mem-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; display: flex; align-items: center; justify-content: center; border-radius: 15px; border: 3px solid var(--secondary); }
.mem-back { background-color: var(--secondary); color: white; font-size: 3rem; transform: rotateY(0deg); }
.mem-front { background-color: white; color: var(--dark); transform: rotateY(180deg); font-size: 3.5rem; font-family: 'Fredoka One'; }

/* GAME 4: MATCHING */
.sub-instruction { margin-top:-10px; margin-bottom:20px; color:#666; font-size: 1.1rem; }
.match-container { position: relative; width: 100%; max-width: 600px; display: flex; justify-content: space-between; padding: 20px; box-sizing: border-box; }
.match-column { display: flex; flex-direction: column; gap: 30px; z-index: 5; }
.match-item { height: 110px; width: 110px; background: white; border: 4px solid var(--purple); border-radius: 15px; display: flex; justify-content: center; align-items: center; font-size: 4.5rem; cursor: pointer; box-shadow: 0 5px 0 #8e44ad; transition: 0.2s; user-select: none; }
.match-item.letter { border-color: var(--secondary); box-shadow: 0 5px 0 #2a9d8f; font-family: 'Fredoka One'; color: var(--secondary); font-size: 4.5rem; }
.match-item.selected { background: #fff8d6; border-color: var(--accent); transform: scale(1.1); box-shadow: 0 0 15px var(--accent); }
.match-item.connected { background: #badc58; color: white; border-color: #6ab04c; box-shadow: none; opacity: 0.8; pointer-events: none; }
#match-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none; }

/* GAME 5: LISTENING */
.listen-container { display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 500px; }
.listen-btn-large { width: 140px; height: 140px; background: var(--blue); border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 5rem; color: white; border: 8px solid #2e86de; box-shadow: 0 8px 0 #2e86de; cursor: pointer; margin-bottom: 30px; transition: 0.2s; animation: pulse 2s infinite; }
.listen-btn-large:active { transform: translateY(8px); box-shadow: none; }
.listen-options { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; width: 100%; }
.listen-card { background: white; border: 4px solid #eee; border-radius: 20px; height: 130px; display: flex; justify-content: center; align-items: center; font-size: 5rem; cursor: pointer; transition: 0.2s; box-shadow: 0 6px 0 #ddd; }
.listen-card:active { transform: translateY(3px); box-shadow: none; }
.listen-card.correct { background: #badc58; border-color: #6ab04c; color: white; }
.listen-card.wrong { background: #ff7675; border-color: #d63031; }

/* GAME 6: SCRAMBLE */
.scramble-container { display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 600px; }
.game-image { font-size: 8rem; margin-bottom: 10px; animation: float 3s infinite ease-in-out; }
.word-slots { display: flex; gap: 8px; margin-bottom: 20px; flex-wrap: wrap; justify-content: center; }
.slot { width: 60px; height: 75px; border-bottom: 6px solid #ccc; display: flex; justify-content: center; align-items: center; font-family: 'Fredoka One'; font-size: 3.5rem; color: var(--primary); transition: 0.3s; }
.slot.filled { border-color: var(--primary); animation: popIn 0.3s; }
.letter-pool { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; max-width: 600px; }
.letter-btn { width: 70px; height: 70px; background: white; border: 3px solid var(--orange); border-radius: 15px; font-family: 'Fredoka One'; font-size: 2.8rem; color: #555; cursor: pointer; box-shadow: 0 5px 0 #bbb; display: flex; justify-content: center; align-items: center; transition: 0.1s; }
.letter-btn:active { transform: translateY(5px); box-shadow: none; }
.letter-btn.used { opacity: 0.3; pointer-events: none; transform: scale(0.9); box-shadow: none; background: #eee; }

/* MODAL */
.modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 100; display: none; justify-content: center; align-items: center; }
.modal-card { background: white; padding: 30px; border-radius: 30px; text-align: center; width: 85%; max-width: 400px; animation: popIn 0.5s; border: 5px solid var(--primary); }
.btn-main { background: var(--secondary); color: white; border: none; padding: 15px 30px; font-size: 1.5rem; border-radius: 50px; cursor: pointer; font-family: 'Fredoka One'; box-shadow: 0 5px 0 #2a9d8f; width: 100%; margin-top: 20px; }
.btn-main:active { transform: translateY(5px); box-shadow: none; }

/* ANIMATION UTILS */
.flying { position: fixed !important; z-index: 99; transition: all 0.7s cubic-bezier(0.2, 1, 0.3, 1); pointer-events: none; }
@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
@keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
@keyframes popIn { from { transform: scale(0); } to { transform: scale(1); } }
@keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }
@keyframes wobble { 0%,100%{transform:rotate(-10deg);} 50%{transform:rotate(10deg);} }

/* RESPONSIVE MOBILE */
@media (max-width: 768px) {
    #game-window { width: 100%; height: 100vh; border-radius: 0; border: none; }
    .hero-title { font-size: 2.5rem; }
    .menu-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; } 
    
    .quiz-container { flex-direction: column; }
    .quiz-left { margin-bottom: 25px; } 
    .hungry-box { width: 150px; height: 150px; } .box-label { font-size: 4.5rem; }
    
    .memory-grid { gap: 8px; } .mem-card { height: 90px; } .mem-front, .mem-back { font-size: 2.5rem; border-width: 2px; }
    
    .game-image { font-size: 6rem; } .slot { width: 50px; height: 60px; font-size: 2.5rem; }
    .listen-btn-large { width: 110px; height: 110px; font-size: 3.5rem; }

    .match-container { padding: 5px; gap: 20px; }
    .match-column { gap: 20px; }
    .match-item { width: 90px; height: 90px; font-size: 3.5rem; }
    
    .btn-support { font-size: 1rem; padding: 10px 20px; }
}